{"ast":null,"code":"var _jsxFileName = \"/home/crw/Programming/Dianoia/frontend/src/components/ArgumentNode.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { Handle, Position } from 'reactflow';\nimport { useStore } from '../store/useStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ArgumentNode({\n  data,\n  id,\n  selected\n}) {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editValue, setEditValue] = useState(data.label);\n  const {\n    updateNodeLabel,\n    setSelectedNode\n  } = useStore();\n  const handleDoubleClick = useCallback(() => {\n    setIsEditing(true);\n    setEditValue(data.label);\n  }, [data.label]);\n  const handleEditSubmit = useCallback(() => {\n    if (editValue.trim()) {\n      updateNodeLabel(id, editValue.trim());\n    }\n    setIsEditing(false);\n  }, [editValue, id, updateNodeLabel]);\n  const handleKeyDown = useCallback(e => {\n    if (e.key === 'Enter') {\n      handleEditSubmit();\n    } else if (e.key === 'Escape') {\n      setIsEditing(false);\n      setEditValue(data.label);\n    }\n  }, [handleEditSubmit, data.label]);\n  const handleClick = useCallback(() => {\n    setSelectedNode({\n      id,\n      type: 'argumentNode',\n      position: {\n        x: 0,\n        y: 0\n      },\n      data\n    });\n  }, [id, data, setSelectedNode]);\n  const bgColor = data.author === 'user' ? 'bg-blue-50' : 'bg-green-50';\n  const borderColor = selected ? 'border-blue-500' : 'border-gray-300';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${bgColor} border-2 ${borderColor} rounded-lg p-4 min-w-[200px] max-w-[300px] shadow-md`,\n    onClick: handleClick,\n    children: [/*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Top,\n      className: \"w-3 h-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: editValue,\n      onChange: e => setEditValue(e.target.value),\n      onBlur: handleEditSubmit,\n      onKeyDown: handleKeyDown,\n      className: \"w-full p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\",\n      autoFocus: true,\n      rows: 3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cursor-text select-none\",\n      onDoubleClick: handleDoubleClick,\n      children: data.label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-xs text-gray-500 mt-2\",\n      children: data.author === 'user' ? 'ðŸ‘¤ You' : 'ðŸ¤– AI'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Bottom,\n      className: \"w-3 h-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(ArgumentNode, \"/YZUo2/cTTur/DfyRKNANprdrM4=\", false, function () {\n  return [useStore];\n});\n_c = ArgumentNode;\nvar _c;\n$RefreshReg$(_c, \"ArgumentNode\");","map":{"version":3,"names":["React","useState","useCallback","Handle","Position","useStore","jsxDEV","_jsxDEV","ArgumentNode","data","id","selected","_s","isEditing","setIsEditing","editValue","setEditValue","label","updateNodeLabel","setSelectedNode","handleDoubleClick","handleEditSubmit","trim","handleKeyDown","e","key","handleClick","type","position","x","y","bgColor","author","borderColor","className","onClick","children","Top","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","onBlur","onKeyDown","autoFocus","rows","onDoubleClick","Bottom","_c","$RefreshReg$"],"sources":["/home/crw/Programming/Dianoia/frontend/src/components/ArgumentNode.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Handle, Position, NodeProps } from 'reactflow';\nimport { ArgumentNode as ArgumentNodeType } from '../types';\nimport { useStore } from '../store/useStore';\n\ninterface ArgumentNodeData {\n    label: string;\n    author: 'user' | 'llm';\n}\n\nexport default function ArgumentNode({ data, id, selected }: NodeProps<ArgumentNodeData>) {\n    const [isEditing, setIsEditing] = useState(false);\n    const [editValue, setEditValue] = useState(data.label);\n    const { updateNodeLabel, setSelectedNode } = useStore();\n\n    const handleDoubleClick = useCallback(() => {\n        setIsEditing(true);\n        setEditValue(data.label);\n    }, [data.label]);\n\n    const handleEditSubmit = useCallback(() => {\n        if (editValue.trim()) {\n            updateNodeLabel(id, editValue.trim());\n        }\n        setIsEditing(false);\n    }, [editValue, id, updateNodeLabel]);\n\n    const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n        if (e.key === 'Enter') {\n            handleEditSubmit();\n        } else if (e.key === 'Escape') {\n            setIsEditing(false);\n            setEditValue(data.label);\n        }\n    }, [handleEditSubmit, data.label]);\n\n    const handleClick = useCallback(() => {\n        setSelectedNode({ id, type: 'argumentNode', position: { x: 0, y: 0 }, data });\n    }, [id, data, setSelectedNode]);\n\n    const bgColor = data.author === 'user' ? 'bg-blue-50' : 'bg-green-50';\n    const borderColor = selected ? 'border-blue-500' : 'border-gray-300';\n\n    return (\n        <div\n            className={`${bgColor} border-2 ${borderColor} rounded-lg p-4 min-w-[200px] max-w-[300px] shadow-md`}\n            onClick={handleClick}\n        >\n            <Handle type=\"target\" position={Position.Top} className=\"w-3 h-3\" />\n\n            {isEditing ? (\n                <textarea\n                    value={editValue}\n                    onChange={(e) => setEditValue(e.target.value)}\n                    onBlur={handleEditSubmit}\n                    onKeyDown={handleKeyDown}\n                    className=\"w-full p-2 border border-gray-300 rounded resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    autoFocus\n                    rows={3}\n                />\n            ) : (\n                <div\n                    className=\"cursor-text select-none\"\n                    onDoubleClick={handleDoubleClick}\n                >\n                    {data.label}\n                </div>\n            )}\n\n            <div className=\"text-xs text-gray-500 mt-2\">\n                {data.author === 'user' ? 'ðŸ‘¤ You' : 'ðŸ¤– AI'}\n            </div>\n\n            <Handle type=\"source\" position={Position.Bottom} className=\"w-3 h-3\" />\n        </div>\n    );\n} "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACpD,SAASC,MAAM,EAAEC,QAAQ,QAAmB,WAAW;AAEvD,SAASC,QAAQ,QAAQ,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAO7C,eAAe,SAASC,YAAYA,CAAC;EAAEC,IAAI;EAAEC,EAAE;EAAEC;AAAsC,CAAC,EAAE;EAAAC,EAAA;EACtF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAACQ,IAAI,CAACQ,KAAK,CAAC;EACtD,MAAM;IAAEC,eAAe;IAAEC;EAAgB,CAAC,GAAGd,QAAQ,CAAC,CAAC;EAEvD,MAAMe,iBAAiB,GAAGlB,WAAW,CAAC,MAAM;IACxCY,YAAY,CAAC,IAAI,CAAC;IAClBE,YAAY,CAACP,IAAI,CAACQ,KAAK,CAAC;EAC5B,CAAC,EAAE,CAACR,IAAI,CAACQ,KAAK,CAAC,CAAC;EAEhB,MAAMI,gBAAgB,GAAGnB,WAAW,CAAC,MAAM;IACvC,IAAIa,SAAS,CAACO,IAAI,CAAC,CAAC,EAAE;MAClBJ,eAAe,CAACR,EAAE,EAAEK,SAAS,CAACO,IAAI,CAAC,CAAC,CAAC;IACzC;IACAR,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC,EAAE,CAACC,SAAS,EAAEL,EAAE,EAAEQ,eAAe,CAAC,CAAC;EAEpC,MAAMK,aAAa,GAAGrB,WAAW,CAAEsB,CAAsB,IAAK;IAC1D,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;MACnBJ,gBAAgB,CAAC,CAAC;IACtB,CAAC,MAAM,IAAIG,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;MAC3BX,YAAY,CAAC,KAAK,CAAC;MACnBE,YAAY,CAACP,IAAI,CAACQ,KAAK,CAAC;IAC5B;EACJ,CAAC,EAAE,CAACI,gBAAgB,EAAEZ,IAAI,CAACQ,KAAK,CAAC,CAAC;EAElC,MAAMS,WAAW,GAAGxB,WAAW,CAAC,MAAM;IAClCiB,eAAe,CAAC;MAAET,EAAE;MAAEiB,IAAI,EAAE,cAAc;MAAEC,QAAQ,EAAE;QAAEC,CAAC,EAAE,CAAC;QAAEC,CAAC,EAAE;MAAE,CAAC;MAAErB;IAAK,CAAC,CAAC;EACjF,CAAC,EAAE,CAACC,EAAE,EAAED,IAAI,EAAEU,eAAe,CAAC,CAAC;EAE/B,MAAMY,OAAO,GAAGtB,IAAI,CAACuB,MAAM,KAAK,MAAM,GAAG,YAAY,GAAG,aAAa;EACrE,MAAMC,WAAW,GAAGtB,QAAQ,GAAG,iBAAiB,GAAG,iBAAiB;EAEpE,oBACIJ,OAAA;IACI2B,SAAS,EAAE,GAAGH,OAAO,aAAaE,WAAW,uDAAwD;IACrGE,OAAO,EAAET,WAAY;IAAAU,QAAA,gBAErB7B,OAAA,CAACJ,MAAM;MAACwB,IAAI,EAAC,QAAQ;MAACC,QAAQ,EAAExB,QAAQ,CAACiC,GAAI;MAACH,SAAS,EAAC;IAAS;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAEnE5B,SAAS,gBACNN,OAAA;MACImC,KAAK,EAAE3B,SAAU;MACjB4B,QAAQ,EAAGnB,CAAC,IAAKR,YAAY,CAACQ,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE;MAC9CG,MAAM,EAAExB,gBAAiB;MACzByB,SAAS,EAAEvB,aAAc;MACzBW,SAAS,EAAC,2GAA2G;MACrHa,SAAS;MACTC,IAAI,EAAE;IAAE;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,gBAEFlC,OAAA;MACI2B,SAAS,EAAC,yBAAyB;MACnCe,aAAa,EAAE7B,iBAAkB;MAAAgB,QAAA,EAEhC3B,IAAI,CAACQ;IAAK;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CACR,eAEDlC,OAAA;MAAK2B,SAAS,EAAC,4BAA4B;MAAAE,QAAA,EACtC3B,IAAI,CAACuB,MAAM,KAAK,MAAM,GAAG,QAAQ,GAAG;IAAO;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CAAC,eAENlC,OAAA,CAACJ,MAAM;MAACwB,IAAI,EAAC,QAAQ;MAACC,QAAQ,EAAExB,QAAQ,CAAC8C,MAAO;MAAChB,SAAS,EAAC;IAAS;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtE,CAAC;AAEd;AAAC7B,EAAA,CAlEuBJ,YAAY;EAAA,QAGaH,QAAQ;AAAA;AAAA8C,EAAA,GAHjC3C,YAAY;AAAA,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}